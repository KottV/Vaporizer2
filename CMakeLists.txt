# This file was generated by FRUT's Jucer2CMake from "VASTvaporizer.jucer"

cmake_minimum_required(VERSION 3.15)

file(STRINGS VERSION PLUGIN_VERSION)
option(USE_SYSTEM_JUCE "Use system installation of juce" OFF)
set(VST2_SDK_LOCATION "" CACHE STRING "Steinberg VST2 SDK directory for non-FOSS builds")
set(AAX_SDK_LOCATION "" CACHE STRING "Avid AAX SDK directory for non-FOSS builds")
set(ASIO_SDK_LOCATION "" CACHE STRING "Steinberg ASIO SDK directory for non-FOSS builds")
option(BUILD_AVX "Build AVX optimized code" ON)

project("VASTvaporizer2")

message("Building VAST Dynamics Vaporizer2 plugin, version ${PLUGIN_VERSION}")

if(NOT USE_SYSTEM_JUCE)
  message(STATUS "Using JUCE from source tree")
  add_subdirectory("${CMAKE_SOURCE_DIR}/JUCE" ${CMAKE_BINARY_DIR}/JUCE EXCLUDE_FROM_ALL)
else()
  message(STATUS "Using system provided JUCE")
  find_package(JUCE CONFIG REQUIRED)
endif()

if (AAX_SDK_LOCATION)
    juce_set_aax_sdk_path(${AAX_SDK_LOCATION})
    message(STATUS "Enabling AAX - caution, non FOSS build")
    list(APPEND PLUGIN_FORMATS AAX)
endif()

if (VST2_SDK_LOCATION)
    juce_set_vst2_sdk_path(${VST2_SDK_LOCATION})
    message(STATUS "Enabling VST2 - caution, non FOSS build")
    list(APPEND PLUGIN_FORMATS VST)
endif()


list(APPEND PLUGIN_FORMATS VST3 AU Standalone LV2)

juce_add_plugin(VASTvaporizer2
  VERSION ${PLUGIN_VERSION}
  BUNDLE_ID "com.vastdynamics.VAST2"
  COMPANY_NAME "VAST Dynamics"
  COMPANY_COPYRIGHT "VAST Dynamics"
  COMPANY_WEBSITE "www.vast-dynamics.com"
  COMPANY_EMAIL "contact@vast-dynamics.com"
  FORMATS ${PLUGIN_FORMATS}
  PLUGIN_NAME "Vaporizer2"
  DESCRIPTION "VAST Dynamics Vaporizer2 Hybrid Synthesizer Plug-in"
  PLUGIN_MANUFACTURER_CODE "Vast"
  PLUGIN_CODE "Vap2"
  IS_SYNTH TRUE
  NEEDS_MIDI_INPUT TRUE
  LV2URI "https://www.vast-dynamics.com/plugins/VASTvaporizer2"
  AAX_IDENTIFIER "com.vastdynamics.VAST2"
  AU_EXPORT_PREFIX "VAST2AU"
  AU_MAIN_TYPE "kAudioUnitType_MusicDevice"
)

juce_generate_juce_header(VASTvaporizer2)

target_compile_definitions(VASTvaporizer2
  PUBLIC
    DROWAUDIO_USE_CURL=disabled
    DROWAUDIO_USE_FFTREAL=disabled
    DROWAUDIO_USE_SOUNDTOUCH=disabled
    JUCE_JACK=1
    JUCE_PLUGINHOST_AU=0
    JUCE_USE_CURL=0
    JUCE_USE_MP3AUDIOFORMAT=1
    JUCE_VST3_CAN_REPLACE_VST2=0
    JUCE_WEB_BROWSER=0
    JUCE_WIN_PER_MONITOR_DPI_AWARE=0
    JUCE_DISPLAY_SPLASH_SCREEN=0
)

if (WIN32)
  if (BUILD_AVX)
    target_compile_definitions(VASTvaporizer2 PRIVATE _WIN64 _WIN64BIT)
    set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} /arch:AVX")
  endif(BUILD_AVX)

  if (ASIO_SDK_LOCATION)
    message( STATUS "Including ASIO from ${ASIO_SDK_LOCATION}")
    target_compile_definitions(VASTvaporizer2 PRIVATE JUCE_ASIO=1)
    target_include_directories(VASTvaporizer2 PRIVATE ${ASIO_SDK_LOCATION}/common)
  endif(ASIO_SDK_LOCATION)
endif(WIN32)

target_sources(VASTvaporizer2
  PRIVATE
    "VASTvaporizer/Source/AnaMark-Tuning-Library/SCL_Import.cpp"
    "VASTvaporizer/Source/AnaMark-Tuning-Library/TUN_EmbedHTML.cpp"
    "VASTvaporizer/Source/AnaMark-Tuning-Library/TUN_Scale.cpp"
    "VASTvaporizer/Source/AnaMark-Tuning-Library/TUN_StringTools.cpp"
    "VASTvaporizer/Source/Engine/FX/FXUtils/VASTDDLModule.cpp"
    "VASTvaporizer/Source/Engine/FX/FXUtils/VASTDelayLine.cpp"
    "VASTvaporizer/Source/Engine/FX/FXUtils/VASTDelayLineAPF.cpp"
    "VASTvaporizer/Source/Engine/FX/FXUtils/VASTDelaySoftAdjust.cpp"
    "VASTvaporizer/Source/Engine/FX/FXUtils/VASTModDelayModule.cpp"
    "VASTvaporizer/Source/Engine/FX/VASTAtomizer.cpp"
    "VASTvaporizer/Source/Engine/FX/VASTBitcrush.cpp"
    "VASTvaporizer/Source/Engine/FX/VASTChorus.cpp"
    "VASTvaporizer/Source/Engine/FX/VASTCombFilterEffect.cpp"
    "VASTvaporizer/Source/Engine/FX/VASTCompressorExpander.cpp"
    "VASTvaporizer/Source/Engine/FX/VASTDistortion.cpp"
    "VASTvaporizer/Source/Engine/FX/VASTEffect.cpp"
    "VASTvaporizer/Source/Engine/FX/VASTEq.cpp"
    "VASTvaporizer/Source/Engine/FX/VASTFlanger.cpp"
    "VASTvaporizer/Source/Engine/FX/VASTFormantFilter.cpp"
    "VASTvaporizer/Source/Engine/FX/VASTMultibandCompressor.cpp"
    "VASTvaporizer/Source/Engine/FX/VASTMultibandCompressorSingleBand.cpp"
    "VASTvaporizer/Source/Engine/FX/VASTPhaser.cpp"
    "VASTvaporizer/Source/Engine/FX/VASTReverb.cpp"
    "VASTvaporizer/Source/Engine/FX/VASTStereoDelay.cpp"
    "VASTvaporizer/Source/Engine/FX/VASTWaveshaper.cpp"
    "VASTvaporizer/Source/Engine/Filter/VASTBiQuadFilter.cpp"
    "VASTvaporizer/Source/Engine/Filter/VASTCombFilter.cpp"
    "VASTvaporizer/Source/Engine/Filter/VASTDelay.cpp"
    "VASTvaporizer/Source/Engine/Filter/VASTDelayAPF.cpp"
    "VASTvaporizer/Source/Engine/Filter/VASTLPFCombFilter.cpp"
    "VASTvaporizer/Source/Engine/Filter/VASTOnePoleLPF.cpp"
    "VASTvaporizer/Source/Engine/Filter/VASTQFilter.cpp"
    "VASTvaporizer/Source/Engine/Filter/VASTQFilterCoefficients.cpp"
    "VASTvaporizer/Source/Engine/Filter/VASTStateVariableFilter.cpp"
    "VASTvaporizer/Source/Engine/Filter/VASTVAOnePoleFilter.cpp"
    "VASTvaporizer/Source/Engine/Filter/VASTVAOnePoleFilterEx.cpp"
    "VASTvaporizer/Source/Engine/Filter/VASTVCFCombFilter.cpp"
    "VASTvaporizer/Source/Engine/Oscillator/VASTWaveTable.cpp"
    "VASTvaporizer/Source/Engine/Oscillator/VASTWaveTableOscillator.cpp"
    "VASTvaporizer/Source/Engine/Oversampler/VASTDecimator.cpp"
    "VASTvaporizer/Source/Engine/Oversampler/VASTInterpolator.cpp"
    "VASTvaporizer/Source/Engine/Oversampler/VASTOversampler.cpp"
    "VASTvaporizer/Source/Engine/Oversampler/VASTRateConvertor.cpp"
    "VASTvaporizer/Source/Engine/Utils/VASTEnvelopeDetector.cpp"
    "VASTvaporizer/Source/Engine/Utils/VASTFFTSingletonFactory.cpp"
    "VASTvaporizer/Source/Engine/Utils/VASTFloatVectorOperations.cpp"
    "VASTvaporizer/Source/Engine/VASTARPData.cpp"
    "VASTvaporizer/Source/Engine/VASTEnvelope.cpp"
    "VASTvaporizer/Source/Engine/VASTFXBus.cpp"
    "VASTvaporizer/Source/Engine/VASTMSEGData.cpp"
    "VASTvaporizer/Source/Engine/VASTMSEGEnvelope.cpp"
    "VASTvaporizer/Source/Engine/VASTOscillatorBank.cpp"
    "VASTvaporizer/Source/Engine/VASTParamState.cpp"
    "VASTvaporizer/Source/Engine/VASTPoly.cpp"
    "VASTvaporizer/Source/Engine/VASTSampler.cpp"
    "VASTvaporizer/Source/Engine/VASTSettings.cpp"
    "VASTvaporizer/Source/Engine/VASTSingleNote.cpp"
    "VASTvaporizer/Source/Engine/VASTSynthesiser.cpp"
    "VASTvaporizer/Source/Engine/VASTVca.cpp"
    "VASTvaporizer/Source/Engine/VASTVcf.cpp"
    "VASTvaporizer/Source/Engine/VASTXperience.cpp"
    "VASTvaporizer/Source/Plugin/VASTArpComponent.cpp"
    "VASTvaporizer/Source/Plugin/VASTAudioProcessor.cpp"
    "VASTvaporizer/Source/Plugin/VASTAudioProcessorEditor.cpp"
    "VASTvaporizer/Source/Plugin/VASTControls/VASTButton.cpp"
    "VASTvaporizer/Source/Plugin/VASTControls/VASTComboBox.cpp"
    "VASTvaporizer/Source/Plugin/VASTControls/VASTComboBrev.cpp"
    "VASTvaporizer/Source/Plugin/VASTControls/VASTComboPreset.cpp"
    "VASTvaporizer/Source/Plugin/VASTControls/VASTConcertinaPanel.cpp"
    "VASTvaporizer/Source/Plugin/VASTControls/VASTDragFX.cpp"
    "VASTvaporizer/Source/Plugin/VASTControls/VASTDragMatrix.cpp"
    "VASTvaporizer/Source/Plugin/VASTControls/VASTDragSource.cpp"
    "VASTvaporizer/Source/Plugin/VASTControls/VASTDrawableButton.cpp"
    "VASTvaporizer/Source/Plugin/VASTControls/VASTImageButton.cpp"
    "VASTvaporizer/Source/Plugin/VASTControls/VASTManualDualValueEditor.cpp"
    "VASTvaporizer/Source/Plugin/VASTControls/VASTManualFreqdomainValueEditor.cpp"
    "VASTvaporizer/Source/Plugin/VASTControls/VASTManualRenameEditor.cpp"
    "VASTvaporizer/Source/Plugin/VASTControls/VASTManualScaleEditor.cpp"
    "VASTvaporizer/Source/Plugin/VASTControls/VASTManualTagsEditor.cpp"
    "VASTvaporizer/Source/Plugin/VASTControls/VASTManualValueEditor.cpp"
    "VASTvaporizer/Source/Plugin/VASTControls/VASTModwheelSlider.cpp"
    "VASTvaporizer/Source/Plugin/VASTControls/VASTParameterButton.cpp"
    "VASTvaporizer/Source/Plugin/VASTControls/VASTParameterComboBox.cpp"
    "VASTvaporizer/Source/Plugin/VASTControls/VASTParameterSlider.cpp"
    "VASTvaporizer/Source/Plugin/VASTControls/VASTPitchbendSlider.cpp"
    "VASTvaporizer/Source/Plugin/VASTControls/VASTPopupHandler.cpp"
    "VASTvaporizer/Source/Plugin/VASTControls/VASTPositionEditor.cpp"
    "VASTvaporizer/Source/Plugin/VASTControls/VASTSlider.cpp"
    "VASTvaporizer/Source/Plugin/VASTFX/VASTFXEffectPane.cpp"
    "VASTvaporizer/Source/Plugin/VASTFX/VASTFXPane.cpp"
    "VASTvaporizer/Source/Plugin/VASTFX/VASTFXSelectionPane.cpp"
    "VASTvaporizer/Source/Plugin/VASTFX/VASTGenericEditor.cpp"
    "VASTvaporizer/Source/Plugin/VASTFX/VASTGenericSelector.cpp"
    "VASTvaporizer/Source/Plugin/VASTFXComponent.cpp"
    "VASTvaporizer/Source/Plugin/VASTFilterComponent.cpp"
    "VASTvaporizer/Source/Plugin/VASTGeneratorsComponent.cpp"
    "VASTvaporizer/Source/Plugin/VASTHeaderComponent.cpp"
    "VASTvaporizer/Source/Plugin/VASTKeyboardComponent.cpp"
    "VASTvaporizer/Source/Plugin/VASTLFOMsegComponent.cpp"
    "VASTvaporizer/Source/Plugin/VASTLogoComponent.cpp"
    "VASTvaporizer/Source/Plugin/VASTMSEGEditor/VASTARPEditor.cpp"
    "VASTvaporizer/Source/Plugin/VASTMSEGEditor/VASTARPEditorPane.cpp"
    "VASTvaporizer/Source/Plugin/VASTMSEGEditor/VASTLFOEditor.cpp"
    "VASTvaporizer/Source/Plugin/VASTMSEGEditor/VASTLFOEditorPane.cpp"
    "VASTvaporizer/Source/Plugin/VASTMSEGEditor/VASTMSEGEditor.cpp"
    "VASTvaporizer/Source/Plugin/VASTMSEGEditor/VASTMSEGEditorPane.cpp"
    "VASTvaporizer/Source/Plugin/VASTMSEGEditor/VASTStepSeqEditor.cpp"
    "VASTvaporizer/Source/Plugin/VASTMSEGEditor/VASTStepSeqEditorPane.cpp"
    "VASTvaporizer/Source/Plugin/VASTMasterVoicingComponent.cpp"
    "VASTvaporizer/Source/Plugin/VASTMatrixComponent.cpp"
    "VASTvaporizer/Source/Plugin/VASTOscillatorComponent.cpp"
    "VASTvaporizer/Source/Plugin/VASTPreset/VASTPresetComponent.cpp"
    "VASTvaporizer/Source/Plugin/VASTPreset/VASTPresetData.cpp"
    "VASTvaporizer/Source/Plugin/VASTPreset/VASTPresetStars.cpp"
    "VASTvaporizer/Source/Plugin/VASTPreset/VASTPresetTreeHeader.cpp"
    "VASTvaporizer/Source/Plugin/VASTPresetEditorComponent.cpp"
    "VASTvaporizer/Source/Plugin/VASTSamplerEditorComponent.cpp"
    "VASTvaporizer/Source/Plugin/VASTSamplerEditorComponentHeader.cpp"
    "VASTvaporizer/Source/Plugin/VASTSamplerNoiseComponent.cpp"
    "VASTvaporizer/Source/Plugin/VASTScopeDisplay/VASTFilterDisplay.cpp"
    "VASTvaporizer/Source/Plugin/VASTScopeDisplay/VASTModMatCurveDisplay.cpp"
    "VASTvaporizer/Source/Plugin/VASTScopeDisplay/VASTOscilloscope.cpp"
    "VASTvaporizer/Source/Plugin/VASTScopeDisplay/VASTOscilloscopeOGL2D.cpp"
    "VASTvaporizer/Source/Plugin/VASTSidePanelComponent.cpp"
    "VASTvaporizer/Source/Plugin/VASTSidePanelHeader.cpp"
    "VASTvaporizer/Source/Plugin/VASTUtils/VASTLookAndFeel.cpp"
    "VASTvaporizer/Source/Plugin/VASTUtils/VASTLookAndFeelThemeDark.cpp"
    "VASTvaporizer/Source/Plugin/VASTUtils/VASTLookAndFeelThemeDefault.cpp"
    "VASTvaporizer/Source/Plugin/VASTUtils/VASTLookAndFeelThemeIce.cpp"
    "VASTvaporizer/Source/Plugin/VASTUtils/VASTLookAndFeelThemeTech.cpp"
    "VASTvaporizer/Source/Plugin/VASTUtils/VASTUndoableWavetableAction.cpp"
    "VASTvaporizer/Source/Plugin/VASTVUMeter.cpp"
    "VASTvaporizer/Source/Plugin/VASTVaporizerComponent.cpp"
    "VASTvaporizer/Source/Plugin/VASTWTEditor/VASTFreqDomainViewport.cpp"
    "VASTvaporizer/Source/Plugin/VASTWTEditor/VASTPositionViewport.cpp"
    "VASTvaporizer/Source/Plugin/VASTWTEditor/VASTSamplerViewport.cpp"
    "VASTvaporizer/Source/Plugin/VASTWaveTableEditorComponent.cpp"
    "VASTvaporizer/Source/Plugin/VASTWaveTableEditorView.cpp"
    "VASTvaporizer/Source/Plugin/VASTWaveTableEditorViewHeader.cpp"
    "VASTvaporizer/Source/muFFT/cpu.c"
    "VASTvaporizer/Source/muFFT/fft.c"
    "VASTvaporizer/Source/muFFT/kernel.c"
)

juce_add_binary_data(VASTvaporizer2_BinaryData
  SOURCES
    "VASTvaporizer/Resources/Fonts/AlteHaasGroteskBold.ttf"
    "VASTvaporizer/Resources/Fonts/AlteHaasGroteskRegular.ttf"
    "VASTvaporizer/Resources/Fonts/OpenSans-Bold.ttf"
    "VASTvaporizer/Resources/Fonts/OpenSans-Regular.ttf"
    "VASTvaporizer/Resources/Fonts/SFUIDisplay-Bold.ttf"
    "VASTvaporizer/Resources/Fonts/SFUIDisplay-Regular.ttf"
    "VASTvaporizer/Resources/Fonts/Trade Gothic LT Bold.ttf"
    "VASTvaporizer/Resources/Fonts/Trade Gothic LT.ttf"
    "VASTvaporizer/Resources/logokreis.svg"
    "VASTvaporizer/Resources/logokreisvdalpha.png"
)

set_target_properties(VASTvaporizer2_BinaryData PROPERTIES POSITION_INDEPENDENT_CODE TRUE)

if(UNIX AND NOT APPLE)
  target_link_libraries(VASTvaporizer2 PRIVATE atomic)
endif(UNIX AND NOT APPLE)

target_link_libraries(VASTvaporizer2
  PRIVATE
    VASTvaporizer2_BinaryData
    juce::juce_audio_basics
    juce::juce_audio_devices
    juce::juce_audio_formats
    juce::juce_audio_plugin_client
    juce::juce_audio_processors
    juce::juce_audio_utils
    juce::juce_core
    juce::juce_cryptography
    juce::juce_data_structures
    juce::juce_dsp
    juce::juce_events
    juce::juce_graphics
    juce::juce_gui_basics
    juce::juce_gui_extra
    juce::juce_opengl
  PUBLIC
    juce::juce_recommended_config_flags
    juce::juce_recommended_lto_flags
    juce::juce_recommended_warning_flags
)
